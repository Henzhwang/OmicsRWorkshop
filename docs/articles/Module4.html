<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="OmicsRWorkshop">
<title>Module 4: Control Structure and Functions • OmicsRWorkshop</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Module 4: Control Structure and Functions">
<meta property="og:description" content="OmicsRWorkshop">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">OmicsRWorkshop</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Module1.html">Module 1 Introduction to R</a>
    <a class="dropdown-item" href="../articles/Module2.html">Module 2 Basic of R</a>
    <a class="dropdown-item" href="../articles/Module3.html">Module 3 Constructing Workflow</a>
    <a class="dropdown-item" href="../articles/Exercise1.html">Exercise 1</a>
    <a class="dropdown-item" href="../articles/Module4.html">Module 4: Control Structure and Functions</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Module 4: Control Structure and Functions</h1>
            
      
      
      <div class="d-none name"><code>Module4.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="control-structure">Control Structure<a class="anchor" aria-label="anchor" href="#control-structure"></a>
</h2>
<p>Control structures play a crucial role in R programming as they offer
the ability to regulate the sequence of execution for a series of R
expressions. Essentially, they allow you to add a layer of logic to your
R code, enabling you to avoid the monotony of repeatedly executing the
same R code. By utilizing control structures, you can easily respond to
changing inputs or data attributes and execute different R expressions
accordingly, leading to more dynamic and adaptable code.</p>
<p>There are commonly six types of control structures in R:</p>
<ul>
<li>
<code>if</code> and <code>else</code> - test a condition and act on
it</li>
<li>
<code>for</code> - execute a loop a fixed number of times</li>
<li>
<code>while</code> - execute a loop while a condition is
<code>TRUE</code>
</li>
<li>
<code>repeat</code> - execute an infinite loop (must
<code><a href="https://rdrr.io/r/base/Control.html" class="external-link">break</a></code> out of it to stop)</li>
<li>
<code><a href="https://rdrr.io/r/base/Control.html" class="external-link">break</a></code> - break the execution of a loop</li>
<li>
<code><a href="https://rdrr.io/r/base/Control.html" class="external-link">next</a></code> - skip an iteration of a loop</li>
</ul>
<p>By leveraging control structures effectively, you can significantly
enhance the efficiency and readability of your R code. It’s important to
note, however, that improper usage of control structures can lead to
errors and inefficiencies, so it’s essential to have a thorough
understanding of their capabilities and limitations.</p>
<div class="section level3">
<h3 id="if---else-statement">
<code>if</code> - <code>else</code> statement<a class="anchor" aria-label="anchor" href="#if---else-statement"></a>
</h3>
<p>In R, if-else statements are fundamental control structures used for
the conditional execution of code. They enable you to specify different
code blocks to execute based on the evaluation of a logical expression
inside the <code>if</code> statement.</p>
<p>If the expression is <code>TRUE</code>, the code inside the
<code>if</code> statement is executed. While
<code>if(&lt;condition&gt;) == if(&lt;condition&gt; == TRUE)</code>, and
<code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{}</a></code> treats the code inside as a single expression (execute
all code inside the <code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{}</a></code> at once), the syntax goes as</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">&lt;</span>condition<span class="sc">&gt;</span>) {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>      <span class="do">## Code to execute if the condition is true</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Notice that the above command does not perform any evaluation when
the condition is <code>FALSE</code>. We want to use <code>else</code>
statement to execute any code instead when the condition is
<code>FALSE</code>. The syntax goes as,</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">&lt;</span>condition1<span class="sc">&gt;</span>) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>      <span class="do">## Code to execute if the condition is true</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>      <span class="do">## Code to execute if the condition is false</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>If you have a series of test (multiple condition for different
actions), we use the <code>else if</code> statement</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">&lt;</span>condition1<span class="sc">&gt;</span>) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>      <span class="do">## Code to execute if the condition1 is true</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="sc">&lt;</span>condition2<span class="sc">&gt;</span>){</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>      <span class="do">## Code to execute if the condition2 is true</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (<span class="sc">&lt;</span>condition2<span class="sc">&gt;</span>){</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>      <span class="do">## Code to execute if the condition3 is true</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>      <span class="do">## Code to execute if neither condition1, 2, 3, 4 is true</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>For example, we want to generate a value <code>x</code> from a normal
distribution. If <code>x</code> is greater than 2, then we set
<code>y</code> to be 5, else, we set <code>y</code> to be 0.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># generating `x` value</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span>, mean <span class="op">=</span> <span class="fl">0</span>, <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># if statement</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">2</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>We can also add more tests to strictly define the value of
<code>y</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span>, mean <span class="op">=</span> <span class="fl">0</span>, <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">1</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="fl">3</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"x value is:"</span>, <span class="va">x</span>, <span class="st">"and y value is: "</span>, <span class="va">y</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "x value is: 14.8886248390428 and y value is:  2"</span></span></code></pre></div>
<p><br>
Check point:</p>
<p>Can you create a <code>if-else</code> syntax with the following
conditions:</p>
<p>Let <code>x</code> be a random number from 1 to 10 (You can use
<code><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample()</a></code>). Consider if the <code>x</code> value is small if
the value is less than 5, and if the <code>x</code> value is larger if
value greater than equal to 5. Print your judgement using
<code>print(paste("The</code>x<code>value is", x, "and the value is small."))</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">5</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"The `x` value is"</span>, <span class="va">x</span>, <span class="st">"and the value is small."</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"The `x` value is"</span>, <span class="va">x</span>, <span class="st">"and the value is large."</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; [1] "The `x` value is 10 and the value is large."</span></span></code></pre></div>
<p><br></p>
<!-- Example 2: Determining the letter grade for a test score -->
<!-- ```{r} -->
<!-- # Define a test score -->
<!-- score <- 85 -->
<!-- # Determine the letter grade based on the score -->
<!-- if (score >= 90) { -->
<!--   grade <- "A" -->
<!-- } else if (score >= 80) { -->
<!--   grade <- "B" -->
<!-- } else if (score >= 70) { -->
<!--   grade <- "C" -->
<!-- } else if (score >= 60) { -->
<!--   grade <- "D" -->
<!-- } else { -->
<!--   grade <- "F" -->
<!-- } -->
<!-- # Print the letter grade -->
<!-- print(paste("Your grade is:", grade)) -->
<!-- ``` -->
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="for-loop">
<code>for</code> loop<a class="anchor" aria-label="anchor" href="#for-loop"></a>
</h2>
<p>In R, loops are used to execute a block of code repeatedly, and it
can simplify the execution of repetitive tasks. A <code>for</code> loop
is a specific type of loop that iterates over a sequence of values and
performs a set of instructions on each value.</p>
<p>The general syntax for a <code>for</code> loop is the following where
<code>value</code> is a variable that takes on each value in the
specified sequence, and the code inside the loop is executed once for
each value.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">for</span> <span class="op">(</span><span class="va">value</span> <span class="kw">in</span> <span class="va">sequence</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Code to execute on each value</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Consider a simple example, we want to print value from 1 to 10
individually. If not using the <code>for</code> loop, we may need to
print each value such as</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co"># etc.</span></span></code></pre></div>
<p>However, with using a for loop, we can print these ten value in one
expression iteratively. This loop takes the <code>i</code> variable and
in each iteration of the loop gives it values 1, 2, 3, …, 10, executes
the code within the curly braces (<code>print(i)</code>), and then the
loop exits.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="co">#&gt; [1] 5</span></span>
<span><span class="co">#&gt; [1] 6</span></span>
<span><span class="co">#&gt; [1] 7</span></span>
<span><span class="co">#&gt; [1] 8</span></span>
<span><span class="co">#&gt; [1] 9</span></span>
<span><span class="co">#&gt; [1] 10</span></span></code></pre></div>
<p>Instead of printing out the <code>i</code> variable, suppose we have
a vector of numbers and we want to calculate the sum of all the numbers.
We could use a for loop to iterate over the vector and add up each
value:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">total</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">total</span> <span class="op">=</span> <span class="va">total</span> <span class="op">+</span> <span class="va">i</span></span>
<span><span class="op">}</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">total</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5050</span></span></code></pre></div>
<p>Furthermore, we can define the sequence by the specific vector or
list or any data structure. The following for loop share the same
behavior.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">letters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aa"</span>, <span class="st">"dd"</span>, <span class="st">"gg"</span>, <span class="st">"ee"</span>, <span class="st">"ef"</span>, <span class="st">"rg"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="va">j</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; [1] "aa"</span></span>
<span><span class="co">#&gt; [1] "dd"</span></span>
<span><span class="co">#&gt; [1] "gg"</span></span>
<span><span class="co">#&gt; [1] "ee"</span></span>
<span><span class="co">#&gt; [1] "ef"</span></span>
<span><span class="co">#&gt; [1] "rg"</span></span></code></pre></div>
<p>Notice that, for this for loop, it is not necessary to use an
index-type variable.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">for</span> <span class="op">(</span><span class="va">z</span> <span class="kw">in</span> <span class="va">letters</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; [1] "aa"</span></span>
<span><span class="co">#&gt; [1] "dd"</span></span>
<span><span class="co">#&gt; [1] "gg"</span></span>
<span><span class="co">#&gt; [1] "ee"</span></span>
<span><span class="co">#&gt; [1] "ef"</span></span>
<span><span class="co">#&gt; [1] "rg"</span></span></code></pre></div>
<p><br></p>
<p>Check point:</p>
<p>Use for loop to iterate over the vector
<code>x &lt;- c(2, 3, 4, 7, 8, 9)</code> and multiple each value.<br></p>
<p>We can now consider the check-point exercise we had in the
<code>if-else</code>. We now want to use the for loop to determine 10
<code>x</code> value if they are large or small.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">5</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"The `x` value is"</span>, <span class="va">x</span>, <span class="st">"and the value is small."</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"The `x` value is"</span>, <span class="va">x</span>, <span class="st">"and the value is large."</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; [1] "The `x` value is 2 and the value is small."</span></span>
<span><span class="co">#&gt; [1] "The `x` value is 2 and the value is small."</span></span>
<span><span class="co">#&gt; [1] "The `x` value is 4 and the value is small."</span></span>
<span><span class="co">#&gt; [1] "The `x` value is 8 and the value is large."</span></span>
<span><span class="co">#&gt; [1] "The `x` value is 10 and the value is large."</span></span>
<span><span class="co">#&gt; [1] "The `x` value is 3 and the value is small."</span></span>
<span><span class="co">#&gt; [1] "The `x` value is 4 and the value is small."</span></span>
<span><span class="co">#&gt; [1] "The `x` value is 5 and the value is large."</span></span>
<span><span class="co">#&gt; [1] "The `x` value is 9 and the value is large."</span></span>
<span><span class="co">#&gt; [1] "The `x` value is 10 and the value is large."</span></span></code></pre></div>
<p>In this for loop, notice the value variable <code>i</code> is not use
any where inside the for loop.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="nested-for-loop">Nested <code>for</code> loop<a class="anchor" aria-label="anchor" href="#nested-for-loop"></a>
</h2>
<p>A nested <code>for</code> loop is a loop inside another loop. The
outer loop controls the number of iterations and the inner loop exectues
a specific set of instructions on each iteration of the outer loop.</p>
<p>It is useful for performing complex calculations and data
manipulation tasks that involve iterating over two or more dimensions of
data, where you are allow to iterate over every combination of value in
that data structure.</p>
<p>However, it is important to note that nested loops can be
computationally expensive and may slow down you program if used
improperly. It’s important to carefully consider whether a nested loop
is necessary for a particular task and to optimize your code to reduce
the number of iterations whenever possible.</p>
<p>Here’s an example of a nested loop apply to a matrix,</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define a matrix</span></span>
<span><span class="va">my_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>, nrow <span class="op">=</span> <span class="fl">3</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">my_matrix</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    1    4    7</span></span>
<span><span class="co">#&gt; [2,]    2    5    8</span></span>
<span><span class="co">#&gt; [3,]    3    6    9</span></span>
<span></span>
<span><span class="co"># Iterate over each row of the matrix</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">my_matrix</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Iterate over each column of the matrix</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">my_matrix</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Multiply each element of the matrix by 2</span></span>
<span>    <span class="va">my_matrix</span><span class="op">[</span><span class="va">i</span>,<span class="va">j</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">my_matrix</span><span class="op">[</span><span class="va">i</span>,<span class="va">j</span><span class="op">]</span> <span class="op">*</span> <span class="fl">2</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print the updated matrix</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">my_matrix</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1] [,2] [,3]</span></span>
<span><span class="co">#&gt; [1,]    2    8   14</span></span>
<span><span class="co">#&gt; [2,]    4   10   16</span></span>
<span><span class="co">#&gt; [3,]    6   12   18</span></span></code></pre></div>
<p><br><br>
## <code>while</code> loop</p>
<p>A <code>while</code> loop is a control structure that allows you to
execute a set of instructions repeatedly while a certain condition is
true. The <code>while</code> loop consists of a condition that is
evaluated at the beginning of each iteration, and a set of instructions
that are executed if the condition is true.</p>
<p>The general syntax for a while loop is as follow,</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">while</span> <span class="op">(</span><span class="va">condition</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre></div>
<p>The condition statement is similar to the condition statement in the
<code>if-else</code> statement, it determines whether the loop should
continue or terminate. If the condition is true, the code inside the
<code>while</code> loop is executed. This process is repeated until the
test expression becomes false, at which point the loop terminates and
control is passed to the next statement.</p>
<p>Thus, the main difference between a <code>while</code> loop and a
<code>for</code> loop is, the <code>for</code> loop will only execute
the code chunk for a given number of times while the <code>while</code>
loop iterative the code chunk until the condition for the
<code>while</code> loop is false (a certain condition is met).</p>
<p>To this reason, it’s important to be careful when using while loops,
as it’s easy to create an infinite loop if the condition is never false.
Hence, it is very important to ensure the test expression will
eventually become <code>FALSE</code>.</p>
<p>An easy application of <code>while</code> loop can be print the
numbers from 1 to 10 using a while loop,</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">num</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span></span>
<span><span class="kw">while</span> <span class="op">(</span><span class="va">num</span> <span class="op">&lt;=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span></span>
<span>  <span class="va">num</span> <span class="op">&lt;-</span> <span class="va">num</span> <span class="op">+</span> <span class="fl">1</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="co">#&gt; [1] 5</span></span>
<span><span class="co">#&gt; [1] 6</span></span>
<span><span class="co">#&gt; [1] 7</span></span>
<span><span class="co">#&gt; [1] 8</span></span>
<span><span class="co">#&gt; [1] 9</span></span>
<span><span class="co">#&gt; [1] 10</span></span></code></pre></div>
<p>An more explicit example of a while test with having more than one
conidtion in a for loop is given as,</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">343</span><span class="op">)</span></span>
<span><span class="va">i</span> <span class="op">&lt;-</span> <span class="fl">0</span>  <span class="co"># number of iterations</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fl">16</span></span>
<span></span>
<span><span class="kw">while</span> <span class="op">(</span><span class="va">p</span> <span class="op">&gt;</span> <span class="fl">13</span> <span class="op">&amp;</span> <span class="va">p</span> <span class="op">&lt;</span> <span class="fl">18</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">i</span> <span class="op">=</span> <span class="va">i</span> <span class="op">+</span> <span class="fl">1</span>   <span class="co"># add one number of iterations</span></span>
<span>  </span>
<span>  <span class="va">coin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> </span>
<span>  </span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">coin</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">p</span> <span class="op">&lt;-</span> <span class="va">p</span> <span class="op">+</span> <span class="fl">1</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">p</span> <span class="op">&lt;-</span> <span class="va">p</span> <span class="op">-</span> <span class="fl">1</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"The value of p is "</span>, <span class="va">p</span>, <span class="st">" and the number of iterations used is "</span>, <span class="va">i</span>, <span class="st">"."</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "The value of p is 18 and the number of iterations used is 6."</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="functions-in-r">Functions in R<a class="anchor" aria-label="anchor" href="#functions-in-r"></a>
</h2>
<p>Functions in R, as we have use a lot, are reusable blocks of code
that perform a specific task or set of tasks. They are fundamental
building block of programming, allowing you to break down complex tasks
into smaller, more manageable pieces of code.</p>
<div class="section level3">
<h3 id="why-use-functions">Why use functions?<a class="anchor" aria-label="anchor" href="#why-use-functions"></a>
</h3>
<p>Functions in R are extremely versatile and can be used for a wide
range of tasks, from simple mathematical calculations to complex data
manipulations. They allow you to encapsulate a specific piece of logic
or functionality into a modular and reusable unit, making your code more
efficient and easier to maintain.</p>
<p>Functions in R are extremely versatile and can be used for a wide
range of tasks, from simple mathematical calculations to complex data
manipulations. They allow you to encapsulate a specific piece of logic
or functionality into a modular and reusable unit, making your code more
efficient and easier to maintain.</p>
</div>
<div class="section level3">
<h3 id="stutures-of-functions">Stutures of functions<a class="anchor" aria-label="anchor" href="#stutures-of-functions"></a>
</h3>
<p>Functions consists of a function definition and a function call. The
function definition specifies the name of the function, the arguments
that the function accepts, and the set of instructions that the function
executes. While the function call is where the function is invoked with
specific argument, causing the instructions in the function definition
to be executed with those arguments.</p>
<p>One thing to keep in mind that, <strong>the variables used inside a
function it not callable in the R environment.</strong> In other words,
they only exist in the function environment, but they do not exist (save
to) in the R environment.</p>
<p>For instance, we want to write a simple function that to perform
summation for all values in a vector. We write</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sum_all</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">vector</span><span class="op">)</span> <span class="op">{</span>    <span class="co"># function definition</span></span>
<span>  </span>
<span>  <span class="co"># function call</span></span>
<span>  <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">vector</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># return the results</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>In this function, <code>sum_all()</code> is the name of the function.
<code>function()</code> is used to clarifies to R that we are writing a
function, where <code>vector</code> is the arguments (input) that this
<code>sum_all</code> function accept. It is easy to see that command
<code>sum(vector)</code> is the function call of this function, where it
apply the summation function <code><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum()</a></code> to the vector
<code>vector</code>, and assign the results to the variable
<code>result</code>. Lastly, we want to return the result values to the
R environment using <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code>. Notice that
<code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> is not necessary as the function will
automatically return the last R object in the block, but specifying
<code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> is strongly recommended.</p>
</div>
<div class="section level3">
<h3 id="writing-a-simple-function">Writing a simple function<a class="anchor" aria-label="anchor" href="#writing-a-simple-function"></a>
</h3>
<p>We now want to write some simple functions that allows us to perform
evaluation in R.</p>
<ol style="list-style-type: decimal">
<li>We want to adds two numbers together and returns the results</li>
</ol>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">add_numbers</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">7</span></span>
<span>  </span>
<span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">add_numbers</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 12</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">add_numbers</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">+</span> <span class="va">y</span> </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># evaluation</span></span>
<span><span class="fu">add_numbers</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">5</span>, y <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 12</span></span>
<span><span class="fu">add_numbers</span><span class="op">(</span>x <span class="op">=</span> <span class="fl">4</span>, y <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 10</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>We can calculate the mean of a vector of numbers:</li>
</ol>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">calc_mean</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">vector</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">sum_vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">vector</span><span class="op">)</span> <span class="co"># find summation of the vector</span></span>
<span>  <span class="va">len_vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vector</span><span class="op">)</span>   <span class="co"># find the length of the vector</span></span>
<span>  </span>
<span>  <span class="co"># compute the mean</span></span>
<span>  <span class="va">mean_vec</span> <span class="op">&lt;-</span> <span class="va">sum_vec</span> <span class="op">/</span> <span class="va">len_vec</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">mean_vec</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># evaluation</span></span>
<span><span class="fu">calc_mean</span><span class="op">(</span>vector <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5.5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5.5</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Recall the example2 from the <code>if-else</code> statement section,
we can create a function to adjust the parameters for the normal
distribution and the <code>x</code> value:</li>
</ol>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_for_x</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">mean</span>, <span class="va">sd</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">34</span><span class="op">)</span> <span class="co"># not necessarily, only for illustration for matching arguments</span></span>
<span>  </span>
<span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="va">mean</span>, <span class="va">sd</span><span class="op">)</span></span>
<span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">y</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">1</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="fl">3</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"x value is:"</span>, <span class="va">x</span>, <span class="st">"and y value is: "</span>, <span class="va">y</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># evaluation</span></span>
<span><span class="fu">test_for_x</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span>, mean <span class="op">=</span> <span class="fl">4</span>, sd <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "x value is: 3.16666017297462 and y value is:  2"</span></span>
<span><span class="fu">test_for_x</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span>, mean <span class="op">=</span> <span class="fl">34</span>, sd <span class="op">=</span> <span class="fl">76</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "x value is: 23.4443621910118 and y value is:  2"</span></span></code></pre></div>
<p><br>
Check point:</p>
<p>What is the function defintion of <code>test_for_x</code>, and what
is its fucntion call?<br></p>
<div class="section level4">
<h4 id="matching-arguments">Matching arguments<a class="anchor" aria-label="anchor" href="#matching-arguments"></a>
</h4>
<p>Calling an R function with arguments can be done in a variety of
ways. We can either follow the argument order in the function
definition, or specifying the argument name. If specifying the argument
name, the order of these argument do not matter.</p>
<p>For instance, calling the function <code>test_for_x</code> from the
last example, we can either use the follwoing way which gives the same
results.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Positional match first argument</span></span>
<span><span class="va">type_1</span> <span class="op">&lt;-</span> <span class="fu">test_for_x</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "x value is: 2.30555014414552 and y value is:  1"</span></span>
<span></span>
<span><span class="co"># Specifying arrguments names</span></span>
<span><span class="va">type_2</span> <span class="op">&lt;-</span> <span class="fu">test_for_x</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span>, mean <span class="op">=</span> <span class="fl">3</span>, sd <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "x value is: 2.30555014414552 and y value is:  1"</span></span>
<span></span>
<span><span class="co"># Specifying arguments names but not following the order in the function</span></span>
<span><span class="co"># definition</span></span>
<span><span class="va">type_3</span> <span class="op">&lt;-</span> <span class="fu">test_for_x</span><span class="op">(</span>sd <span class="op">=</span> <span class="fl">5</span>, n <span class="op">=</span> <span class="fl">1</span>, mean <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "x value is: 2.30555014414552 and y value is:  1"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">type_1</span>, <span class="va">type_2</span>, <span class="va">type_3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p><br>
Check point:</p>
<p>Can you write a simple function that can calculate the mean, median,
and standard deviation of a vecotr? Return the results in a vector
format.<br></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="apply-family">
<code>apply</code> family<a class="anchor" aria-label="anchor" href="#apply-family"></a>
</h2>
<p>The <code>apply</code> family of functions in R allows to apply a
function to subsets of data structure, such as a matrix or data frame,
and return the results as a new data structure. The apply family
consists of several related functions, each of which is optimized for a
specific data structure and operation:</p>
<ul>
<li>
<code><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply()</a></code>: Applies a function to the rows or columns of a
matrix or array and returns the results as a vector, matrix, or
array.</li>
<li>
<code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code>: Applies a function to each element of a list
and returns the results as a list.</li>
<li>
<code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply()</a></code>: Simplifies the output of lapply() by
converting it to a vector or matrix, if possible.</li>
<li>
<code><a href="https://rdrr.io/r/base/tapply.html" class="external-link">tapply()</a></code>: Applies a function to subsets of a vector or
array based on one or more grouping factors and returns the results as a
vector or array.</li>
<li>
<code><a href="https://rdrr.io/r/base/mapply.html" class="external-link">mapply()</a></code>: Applies a function to multiple vectors or
lists in parallel and returns the results as a vector or list.</li>
</ul>
<p><br>
These functions are particularly useful when we need to perfomr the same
operations on multiple subsets of a data structure, such as calclulating
summary statistics for each column or a data frame or applying a custom
function to each elements of a list.</p>
<p>Its main advantage is we can ofern avoid writing explicit loops or
other contrail structures, which make our code more concise, readable,
and efficient. Furthermore, it can help us avoiding common programming
errors, such as off-by-one errors or index-out-of-bounds errors, that
can occur when manually iterating over data structures.</p>
<div class="section level3">
<h3 id="apply">
<code>apply()</code><a class="anchor" aria-label="anchor" href="#apply"></a>
</h3>
<p>The <code><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply()</a></code> function definition is</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">array</span>, <span class="va">margin</span>, <span class="va">FUN</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
<p>where array is the input array (including matrix) and FUN means the
function we want to apply to this array. MARGIN indicates the subscripts
which the function will be applied over where <code>MARGIN = 1</code>
mean applying over the rows, and <code>MARGIN = 2</code> mean applying
over the columns.</p>
<p>For instance, we want to use the <code>apply</code> function to
calculate the row sums of a matrix.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a matrix</span></span>
<span><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate row sums using apply()</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">mat</span>, <span class="fl">1</span>, <span class="va">sum</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  9 12</span></span>
<span></span>
<span><span class="co"># Calculate column mean using apply()</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">mat</span>, <span class="fl">2</span>, <span class="va">mean</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1.5 3.5 5.5</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="lapply">
<code>lapply()</code><a class="anchor" aria-label="anchor" href="#lapply"></a>
</h3>
<p>The <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code> stands for “list apply”, where its function
definition is</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(list, <span class="cf">function</span>)</span></code></pre></div>
<p>It is used to apply a given function to each element of a
<strong>list</strong> (atomic or list or an expression object) and
returns a list. The first argument is the list object to which the
function should applied, and the second argument is the function to
apply to each element of the list.</p>
<p>For instance,</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a list of numeric vectors</span></span>
<span><span class="va">my_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>, c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">9</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">my_list</span></span>
<span><span class="co">#&gt; $a</span></span>
<span><span class="co">#&gt; [1] 1 2 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $b</span></span>
<span><span class="co">#&gt; [1] 4 5 6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $c</span></span>
<span><span class="co">#&gt; [1] 7 8 9</span></span>
<span></span>
<span><span class="co"># Use lapply to calculate the mean of each vector in the list</span></span>
<span><span class="va">my_list_res_lapply</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">my_list</span>, <span class="va">mean</span><span class="op">)</span></span>
<span><span class="va">my_list_res_lapply</span></span>
<span><span class="co">#&gt; $a</span></span>
<span><span class="co">#&gt; [1] 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $b</span></span>
<span><span class="co">#&gt; [1] 5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $c</span></span>
<span><span class="co">#&gt; [1] 8</span></span></code></pre></div>
<p>On the other hand, we can also specify our own function to apply to
the given vector or list.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>, size <span class="op">=</span> <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_vec_res_lapply</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">my_vec</span>, <span class="kw">function</span><span class="op">(</span><span class="va">k</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">res</span> <span class="op">=</span> <span class="va">k</span> <span class="op">^</span> <span class="fl">2</span></span>
<span><span class="op">}</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">my_vec_res_lapply</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] 421201</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] 70756</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] 315844</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; [1] 69696</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[5]]</span></span>
<span><span class="co">#&gt; [1] 7396</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[6]]</span></span>
<span><span class="co">#&gt; [1] 902500</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[7]]</span></span>
<span><span class="co">#&gt; [1] 126736</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[8]]</span></span>
<span><span class="co">#&gt; [1] 635209</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[9]]</span></span>
<span><span class="co">#&gt; [1] 606841</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[10]]</span></span>
<span><span class="co">#&gt; [1] 15876</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sapply">
<code>sapply()</code><a class="anchor" aria-label="anchor" href="#sapply"></a>
</h3>
<p><code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply()</a></code> is a function that similar ro
<code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code>. While <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code> always returns a
list, <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply()</a></code> tries to simplify the output into a vector,
matrix or array, if possible. This can be useful when the output from
each element of the list or vector is of the same type and can be
combined into a vector or matrix.</p>
<p>Using the same example as <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code>, we observe:</p>
<p>Example 1:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use lapply to calculate the mean of each vector in the list</span></span>
<span><span class="va">my_list_res_sapply</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">my_list</span>, <span class="va">mean</span><span class="op">)</span></span>
<span><span class="va">my_list_res_sapply</span></span>
<span><span class="co">#&gt; a b c </span></span>
<span><span class="co">#&gt; 2 5 8</span></span></code></pre></div>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># class of result</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">my_list_res_lapply</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "list"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">my_list_res_sapply</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "numeric"</span></span></code></pre></div>
<p><br>
Example 2:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_vec_res_sapply</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">my_vec</span>, <span class="kw">function</span><span class="op">(</span><span class="va">k</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">res</span> <span class="op">=</span> <span class="va">k</span> <span class="op">^</span> <span class="fl">2</span></span>
<span><span class="op">}</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">my_vec_res_sapply</span></span>
<span><span class="co">#&gt;  [1] 421201  70756 315844  69696   7396 902500 126736 635209 606841  15876</span></span></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># class of result</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">my_vec_res_lapply</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "list"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">my_vec_res_sapply</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "numeric"</span></span></code></pre></div>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="reference">Reference<a class="anchor" aria-label="anchor" href="#reference"></a>
</h2>
<p><a href="https://bookdown.org/rdpeng/rprogdatascience/" class="external-link">R Programming
for Data Science</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://chemistry.mcmaster.ca/component/comprofiler/userprofile/gillb3.html?Itemid=791" class="external-link">Biban Gill</a>, <a href="http://hitsimmune.com/team/lucas-miller/" class="external-link">Jamie McNicol</a>, <a href="https://github.com/Henzhwang" class="external-link">Shiheng Huang</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
